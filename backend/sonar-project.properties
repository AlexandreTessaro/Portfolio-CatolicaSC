# SonarQube / SonarCloud Configuration - Backend
# Para mais informações: https://docs.sonarqube.org/latest/analysis/analysis-parameters/

# Informações básicas do projeto
sonar.projectKey=startup-collab-backend
sonar.projectName=Startup Collab Platform - Backend
sonar.projectVersion=1.0.0

# Caminhos do código fonte
sonar.sources=src
sonar.sourceEncoding=UTF-8

# Excluir arquivos/pastas da análise
sonar.exclusions=**/node_modules/**,**/coverage/**,**/dist/**,**/build/**,**/*.test.js,**/__tests__/**,**/scripts/**,**/migrations/**,**/*.config.js

# Incluir arquivos de teste
sonar.tests=src/__tests__
sonar.test.inclusions=**/*.test.js,**/*.spec.js

# Cobertura de testes
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.coverage.exclusions=**/*.test.js,**/__tests__/**,**/scripts/**,**/migrations/**,**/*.config.js,**/app.js,**/index.js

# Linguagem e versão
sonar.language=js
sonar.javascript.node.version=20

# Regras de qualidade
# Desabilitado temporariamente porque no plano gratuito não é possível criar Quality Gates customizados
# que verifiquem "Overall Code". O Quality Gate padrão sempre verifica "New Code" e falha quando
# não há código novo com cobertura suficiente. Isso não bloqueia a análise, apenas faz o workflow passar.
sonar.qualitygate.wait=false

# Análise de duplicação
sonar.cpd.exclusions=**/*.test.js,**/__tests__/**,**/scripts/**

# Análise de segurança
sonar.security.hotspots.enabled=true

# Excluir arquivos de configuração e migrações
sonar.exclusions+=**/migrate.js,**/seed.js,**/*.config.js,**/index.js

