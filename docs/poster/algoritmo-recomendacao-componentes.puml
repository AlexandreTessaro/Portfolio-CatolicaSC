@startuml Sistema_Recomendacao_Componentes
!theme plain
skinparam componentStyle rectangle
skinparam backgroundColor #FFFFFF
skinparam component {
    BackgroundColor #E3F2FD
    BorderColor #0D47A1
    BorderThickness 2
}

title Sistema de RecomendaÃ§Ã£o - Componentes e CÃ¡lculo\n\nStartup Collab Platform

package "ğŸ“Š Entrada" {
    component [UsuÃ¡rio] as User {
        component [Skills] as UserSkills
        component [HistÃ³rico] as UserHistory
    }
    
    component [Projeto] as Project {
        component [Tecnologias] as ProjectTechs
        component [Categoria] as ProjectCategory
    }
}

package "ğŸ§® Algoritmo de RecomendaÃ§Ã£o" {
    component [RecommendationService] as Service {
        component [Match Skills] as MatchSkills
        component [Bonus HistÃ³rico] as BonusHistory
        component [Bonus Categoria] as BonusCategory
        component [Calculadora Score] as ScoreCalc
    }
}

package "ğŸ“ˆ SaÃ­da" {
    component [Score Final] as FinalScore {
        component [Porcentagem] as Percentage
        component [RecomendaÃ§Ã£o] as Recommendation
    }
}

' Fluxo de cÃ¡lculo
User --> Service : userId
Project --> Service : projectId

Service --> MatchSkills : Calcular Match
UserSkills --> MatchSkills : Skills do usuÃ¡rio
ProjectTechs --> MatchSkills : Tecnologias do projeto

MatchSkills --> MatchSkills : Comparar arrays
note right of MatchSkills
  **CÃ¡lculo:**
  matchingSkills = userSkills.filter(
    skill => projectTechs.includes(skill)
  )
  matchPercentage = 
    (matchingSkills.length / 
     userSkills.length) Ã— 100
end note

MatchSkills --> BonusHistory : Match %
Service --> BonusHistory : Buscar histÃ³rico
UserHistory --> BonusHistory : Projetos aceitos

BonusHistory --> BonusHistory : Comparar tecnologias
note right of BonusHistory
  **CÃ¡lculo:**
  similarProjects = projetos aceitos
    com tecnologias em comum
  historyBonus = 
    (similarProjects / 
     acceptedProjects.length) Ã— 10
  MÃ¡ximo: 10%
end note

BonusHistory --> BonusCategory : Bonus HistÃ³rico
Service --> BonusCategory : Buscar categoria
ProjectCategory --> BonusCategory : Categoria do projeto

BonusCategory --> BonusCategory : Verificar histÃ³rico
note right of BonusCategory
  **CÃ¡lculo:**
  Se usuÃ¡rio trabalhou em projetos
  da mesma categoria:
    categoryBonus = 5%
  SenÃ£o: 0%
end note

MatchSkills --> ScoreCalc : Match Skills (0-100%)
BonusHistory --> ScoreCalc : Bonus HistÃ³rico (0-10%)
BonusCategory --> ScoreCalc : Bonus Categoria (0-5%)

ScoreCalc --> ScoreCalc : Somar componentes
note right of ScoreCalc
  **FÃ³rmula Final:**
  finalScore = 
    matchPercentage + 
    historyBonus + 
    categoryBonus
  finalScore = min(100, finalScore)
  
  **Exemplo:**
  75% + 6% + 5% = 86%
end note

ScoreCalc --> FinalScore : Score Final (0-100%)
FinalScore --> Percentage : Porcentagem
FinalScore --> Recommendation : ClassificaÃ§Ã£o

note bottom of Recommendation
  **ClassificaÃ§Ã£o:**
  ğŸŸ¢ 80%+ : Excelente match
  ğŸŸ¡ 60-79% : Bom match
  ğŸŸ  40-59% : Match moderado
  âš« <40% : Match baixo
end note

@enduml







